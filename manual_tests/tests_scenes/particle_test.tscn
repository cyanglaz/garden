[gd_scene load_steps=45 format=3 uid="uid://cmeu381yfnvg"]

[ext_resource type="Texture2D" uid="uid://dluupgsp4vwdw" path="res://manual_tests/tests_scenes/spritesheet.png" id="1_6wplt"]
[ext_resource type="Shader" uid="uid://dwyw0qcfmqa02" path="res://shaders/power_ring.gdshader" id="5_aoyig"]
[ext_resource type="Shader" uid="uid://dtp5dbic7rfvk" path="res://shaders/dissolve_sprite.gdshader" id="6_uwudl"]
[ext_resource type="Texture2D" uid="uid://tvbkpdpoekuv" path="res://resources/sprites/white_pixel.png" id="7_mpkt4"]
[ext_resource type="Shader" uid="uid://b2baa2id7mio3" path="res://manual_tests/tests_scenes/sprite_explode.gdshader" id="8_x30v2"]
[ext_resource type="Shader" uid="uid://cg4qld2hips31" path="res://shaders/electric.gdshader" id="10_65jon"]

[sub_resource type="Gradient" id="Gradient_il6oi"]
offsets = PackedFloat32Array(0, 0.345061, 0.998647)
colors = PackedColorArray(0.952941, 0.658824, 0.2, 1, 0.932539, 0.282839, 0.234975, 1, 0.92549, 0.152941, 0.247059, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_ou1by"]
gradient = SubResource("Gradient_il6oi")

[sub_resource type="Curve" id="Curve_72ei4"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_k80dw"]
curve = SubResource("Curve_72ei4")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_vgr20"]
particle_flag_disable_z = true
direction = Vector3(2.08165e-12, -1, 2.08165e-12)
spread = 10.0
initial_velocity_min = 90.0
initial_velocity_max = 120.0
gravity = Vector3(2.08165e-12, 2.08165e-12, 2.08165e-12)
scale_min = 2.0
scale_max = 2.0
scale_curve = SubResource("CurveTexture_k80dw")
color_ramp = SubResource("GradientTexture1D_ou1by")
turbulence_enabled = true
turbulence_noise_scale = 4.688

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_uagub"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(200, 1, 1)
direction = Vector3(-1, 1, 2.08165e-12)
spread = 10.0
initial_velocity_min = 20.0
initial_velocity_max = 100.0
gravity = Vector3(2.08165e-12, 2.08165e-12, 2.08165e-12)

[sub_resource type="Gradient" id="Gradient_f8tx0"]
colors = PackedColorArray(0.952941, 0.658824, 0.2, 1, 0.67451, 0.156863, 0.278431, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_jd6bj"]
gradient = SubResource("Gradient_f8tx0")

[sub_resource type="Curve" id="Curve_vj2cr"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_dq3fi"]
curve = SubResource("Curve_vj2cr")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_e5ytb"]
particle_flag_disable_z = true
spread = 180.0
initial_velocity_min = 90.0
initial_velocity_max = 90.0
gravity = Vector3(2.08165e-12, 49, 2.08165e-12)
scale_min = 2.0
scale_max = 2.0
scale_curve = SubResource("CurveTexture_dq3fi")
color_ramp = SubResource("GradientTexture1D_jd6bj")

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_hcrw2"]
particles_animation = true
particles_anim_h_frames = 6
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_kmp4h"]
particle_flag_disable_z = true
emission_shape = 1
emission_sphere_radius = 57.86
gravity = Vector3(2.08165e-12, 2.08165e-12, 2.08165e-12)
anim_speed_min = 3.0
anim_speed_max = 3.0

[sub_resource type="Resource" id="Resource_pgxfc"]
metadata/__load_path__ = "res://scenes/attacks/explosions/explosion.tscn"

[sub_resource type="Resource" id="Resource_grquu"]
metadata/__load_path__ = "res://scenes/_deprecated/player_addons/player_addon_lightning_chain.tscn"

[sub_resource type="Shader" id="Shader_rpqsl"]
resource_local_to_scene = true
code = "shader_type canvas_item;

uniform sampler2D color_gradient;
uniform sampler2D noiseTexture: repeat_enable;
uniform float speed: hint_range (0.0,5.0);
uniform float variation: hint_range (0.0,1.0);
uniform float width: hint_range (0.0,1.0);

void fragment(){
	
	vec2 noise_uv = vec2(UV.x+TIME*speed, UV.y-TIME*speed);
	float noise_sample = texture(noiseTexture, noise_uv).r;
	float x_offset = noise_sample*variation - variation/2.0;
	COLOR = texture(color_gradient, vec2((UV.x-0.5)/width + 0.5 + x_offset/width, UV.y));
}"

[sub_resource type="Gradient" id="Gradient_rfdkq"]
offsets = PackedFloat32Array(0, 0.0520487, 0.502769, 0.937984, 1)
colors = PackedColorArray(0.427451, 0.917647, 0.839216, 0, 0.427451, 0.917647, 0.839216, 1, 1, 1, 1, 1, 0.427451, 0.917647, 0.839216, 1, 0.427451, 0.917647, 0.839216, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_0nnmx"]
gradient = SubResource("Gradient_rfdkq")
width = 32
height = 32

[sub_resource type="Gradient" id="Gradient_e2wa5"]
offsets = PackedFloat32Array(0, 0.520487, 1)
colors = PackedColorArray(0, 0, 0, 0, 0.427451, 0.917647, 0.839216, 1, 0.427451, 0.917647, 0.839216, 0)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_dtrop"]
noise_type = 2
offset = Vector3(2.08167e-14, 2.08167e-14, 2.08167e-14)
fractal_weighted_strength = 0.88
domain_warp_enabled = true
metadata/_preview_in_3d_space_ = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_jd07v"]
width = 32
height = 32
color_ramp = SubResource("Gradient_e2wa5")
noise = SubResource("FastNoiseLite_dtrop")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_uvc4e"]
resource_local_to_scene = true
shader = SubResource("Shader_rpqsl")
shader_parameter/color_gradient = SubResource("GradientTexture2D_0nnmx")
shader_parameter/noiseTexture = SubResource("NoiseTexture2D_jd07v")
shader_parameter/speed = 0.842
shader_parameter/variation = 0.677
shader_parameter/width = 0.11

[sub_resource type="Resource" id="Resource_kj7qx"]
metadata/__load_path__ = "res://scenes/character/player/upgrades/abilities/effects/power_ring.tscn"

[sub_resource type="FastNoiseLite" id="FastNoiseLite_rnbmd"]
resource_local_to_scene = true
noise_type = 4
frequency = 0.005

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ounr4"]
noise = SubResource("FastNoiseLite_rnbmd")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mbau2"]
resource_local_to_scene = true
shader = ExtResource("5_aoyig")
shader_parameter/radius = 0.9
shader_parameter/thickness = 0.15
shader_parameter/color = Color(0.92549, 0.152941, 0.247059, 1)
shader_parameter/brightness = 1.0
shader_parameter/angular_speed = 0.5
shader_parameter/radial_speed = 1.4
shader_parameter/alpha = 1.0
shader_parameter/noise = SubResource("NoiseTexture2D_ounr4")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vbi4b"]
shader = ExtResource("6_uwudl")
shader_parameter/sensitivity = 0.5

[sub_resource type="FastNoiseLite" id="FastNoiseLite_3k24e"]
noise_type = 0
frequency = 0.1

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_bugee"]
width = 32
height = 32
generate_mipmaps = false
as_normal_map = true
noise = SubResource("FastNoiseLite_3k24e")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_weft0"]
noise_type = 0
seed = 75
frequency = 0.1
fractal_gain = 0.1

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_dvw50"]
width = 32
height = 32
generate_mipmaps = false
noise = SubResource("FastNoiseLite_weft0")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1qsge"]
shader = ExtResource("8_x30v2")
shader_parameter/noise_tex_normal = SubResource("NoiseTexture2D_dvw50")
shader_parameter/noise_tex = SubResource("NoiseTexture2D_bugee")
shader_parameter/progress = 0.0
shader_parameter/strength = 1.0

[sub_resource type="AtlasTexture" id="AtlasTexture_m4iiw"]
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7io1x"]
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_c4rfp"]
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_jq6kd"]
region = Rect2(96, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_4pwb8"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_m4iiw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7io1x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c4rfp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jq6kd")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bk3kh"]
shader = ExtResource("10_65jon")
shader_parameter/lightning_color = Color(0.427451, 0.917647, 0.839216, 1)
shader_parameter/size = 0.228
shader_parameter/width = 0.117
shader_parameter/speed = 0.4
shader_parameter/cycle = 0.3
shader_parameter/ratio = 2.08165e-12
shader_parameter/time_shift = 2.08165e-12

[node name="ParticleTest" type="Node2D"]

[node name="Fire" type="GPUParticles2D" parent="."]
position = Vector2(-1, 0)
amount = 150
process_material = SubResource("ParticleProcessMaterial_vgr20")

[node name="SnowFall" type="GPUParticles2D" parent="."]
visible = false
amount = 100
process_material = SubResource("ParticleProcessMaterial_uagub")
lifetime = 4.0

[node name="Explosion" type="GPUParticles2D" parent="."]
visible = false
amount = 50
process_material = SubResource("ParticleProcessMaterial_e5ytb")
explosiveness = 0.69

[node name="Explosion2" type="GPUParticles2D" parent="."]
visible = false
amount = 50
process_material = SubResource("ParticleProcessMaterial_e5ytb")
explosiveness = 0.69

[node name="AOE" type="GPUParticles2D" parent="."]
visible = false
material = SubResource("CanvasItemMaterial_hcrw2")
process_material = SubResource("ParticleProcessMaterial_kmp4h")
texture = ExtResource("1_6wplt")
explosiveness = 0.13
interpolate = false

[node name="MobExplosion" parent="."]
visible = false
scale = Vector2(5, 5)

[node name="LightningChain" parent="."]
visible = false
material = SubResource("ShaderMaterial_uvc4e")

[node name="PowerRing" parent="."]
visible = false
material = SubResource("ShaderMaterial_mbau2")
scale = Vector2(31.3, 31.3)

[node name="DissolvingSprite" type="Sprite2D" parent="."]
visible = false
material = SubResource("ShaderMaterial_vbi4b")
position = Vector2(185, 123)
scale = Vector2(102.75, 78.1392)
texture = ExtResource("7_mpkt4")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
visible = false
material = SubResource("ShaderMaterial_1qsge")
position = Vector2(104, 73)
sprite_frames = SubResource("SpriteFrames_4pwb8")

[node name="Sprite2D" type="Sprite2D" parent="."]
visible = false
material = SubResource("ShaderMaterial_bk3kh")
position = Vector2(2.75, -6.84091)
scale = Vector2(6.5, 5.31818)
texture = ExtResource("7_mpkt4")
